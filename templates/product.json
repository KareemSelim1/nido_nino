/*
 * ------------------------------------------------------------
 * IMPORTANT: The contents of this file are auto-generated.
 *
 * This file may be updated by the Shopify admin theme editor
 * or related systems. Please exercise caution as any changes
 * made to this file may be overwritten.
 * ------------------------------------------------------------
 */
{
  "sections": {
    "main": {
      "type": "main-product",
      "blocks": {
        "vendor": {
          "type": "text",
          "settings": {
            "text": "{{ product.vendor }}",
            "text_style": "uppercase"
          }
        },
        "title": {
          "type": "title",
          "settings": {}
        },
        "price": {
          "type": "price",
          "settings": {}
        },
        "variant_picker": {
          "type": "variant_picker",
          "settings": {
            "picker_type": "button",
            "swatch_shape": "circle"
          }
        },
        "quantity_selector": {
          "type": "quantity_selector",
          "settings": {}
        },
        "buy_buttons": {
          "type": "buy_buttons",
          "settings": {
            "show_dynamic_checkout": true,
            "show_gift_card_recipient": true
          }
        },
        "custom_liquid_7xmQkX": {
          "type": "custom_liquid",
          "settings": {
            "custom_liquid": "{%- assign current_variant = product.selected_or_first_available_variant -%}\n\n<div id=\"restock-notify\"\n     class=\"restock-notify\"\n     data-product-id=\"{{ product.id }}\"\n     data-section-id=\"{{ section.id }}\"\n     data-initial-available=\"{{ current_variant.available }}\"\n     style=\"display:none;\">\n  \n  <form method=\"post\"\n        action=\"/contact#ContactFooter\"\n        accept-charset=\"UTF-8\"\n        class=\"restock-notify__form\"\n        novalidate>\n    <input type=\"hidden\" name=\"form_type\" value=\"customer\">\n    <input type=\"hidden\" name=\"utf8\" value=\"✓\">\n    <input type=\"hidden\" name=\"contact[tags]\" value=\"restock-notification,product-interest\">\n\n    {%- comment -%} This will be rewritten by JS on every option change {%- endcomment -%}\n    <input type=\"hidden\" name=\"contact[body]\" value=\"Restock request:\nProduct: {{ product.title }}\nHandle: {{ product.handle }}\nVariant: {{ current_variant.title | escape }}\nVariant ID: {{ current_variant.id }}\nProduct URL: {{ shop.url }}{{ product.url }}\nSelected Options: (initial)\nTime: {{ 'now' | date: \"%Y-%m-%d %H:%M %Z\" }}\">\n    <input type=\"hidden\" name=\"contact[product_title]\" value=\"{{ product.title }}\">\n    <input type=\"hidden\" name=\"contact[product_handle]\" value=\"{{ product.handle }}\">\n    <input type=\"hidden\" id=\"RestockVariantId--{{ section.id }}\" name=\"contact[variant_id]\" value=\"{{ current_variant.id }}\">\n    <input type=\"hidden\" id=\"RestockVariantTitle--{{ section.id }}\" name=\"contact[variant_title]\" value=\"{{ current_variant.title | escape }}\">\n\n    {% if customer %}\n      <input type=\"hidden\" name=\"contact[email]\" value=\"{{ customer.email | escape }}\">\n      <div class=\"restock-notify__row\">\n        <div class=\"restock-notify__status\">\n          You’re signed in as <strong>{{ customer.email }}</strong>. We’ll email you when it’s back.\n        </div>\n      </div>\n    {% else %}\n      <div class=\"restock-notify__row\">\n        <label class=\"restock-notify__label\" for=\"RestockEmail--{{ section.id }}\">\n          Get notified when it’s back in stock\n        </label>\n        <input\n          id=\"RestockEmail--{{ section.id }}\"\n          type=\"email\"\n          name=\"contact[email]\"\n          class=\"restock-notify__input\"\n          aria-required=\"true\"\n          aria-label=\"Email address for restock notification\"\n          autocorrect=\"off\"\n          autocapitalize=\"off\"\n          autocomplete=\"email\"\n          placeholder=\"Enter your email address\"\n          required>\n      </div>\n    {% endif %}\n\n    <button type=\"submit\"\n            class=\"restock-notify__btn\"\n            name=\"commit\"\n            aria-label=\"Get notified when product is back in stock\">\n      Notify me\n    </button>\n\n    <p class=\"restock-notify__privacy\">We don’t share your information.</p>\n    <p class=\"restock-notify__success\" hidden>Thanks — we’ll email you as soon as it’s available.</p>\n    <p class=\"restock-notify__error\" hidden>Something went wrong. Please try again.</p>\n  </form>\n</div>\n\n{%- comment -%}\n  Minimal product data so JS can tell if the current option combo maps to a variant or not.\n{%- endcomment -%}\n<script type=\"application/json\" id=\"ProductData-{{ section.id }}\">\n{\n  \"variants\": [\n  {%- for v in product.variants -%}\n    { \"id\": {{ v.id }}, \"title\": {{ v.title | json }}, \"available\": {{ v.available | json }}, \"options\": {{ v.options | json }} }{% unless forloop.last %},{% endunless %}\n  {%- endfor -%}\n  ],\n  \"optionsOrder\": {{ product.options | json }}\n}\n</script>\n\n<style>\n  /* === RESTOCK FORM (FINAL REFINED, VARIANT-AWARE) === */\n\n  .restock-notify {\n    width: 100%;\n    max-width: 100%;\n    background: transparent;\n    font-family: var(--font-body-family);\n    font-size: 1.5rem;\n    line-height: 1.7;\n    color: rgb(var(--color-foreground));\n  }\n\n  .restock-notify__form { display: grid; gap: 16px; }\n\n  .restock-notify__label {\n    font: inherit;\n    color: rgba(var(--color-foreground), .85);\n    margin-bottom: 4px;\n  }\n\n  .restock-notify__input {\n    width: 100%;\n    padding: 12px 20px;\n    border: 1px solid rgba(var(--color-foreground), 0.15);\n    border-radius: 0;\n    font: inherit;\n    background-color: rgb(var(--color-background));\n    color: rgb(var(--color-foreground));\n    transition: border-color .2s ease, box-shadow .2s ease;\n    box-sizing: border-box;\n  }\n  .restock-notify__input::placeholder { color: rgba(var(--color-foreground), .6); opacity: 1; }\n  .restock-notify__input:focus {\n    outline: none;\n    border-color: rgb(var(--color-accent, var(--color-foreground)));\n    box-shadow: 0 0 0 1px rgb(var(--color-accent, var(--color-foreground)));\n  }\n\n  .restock-notify__btn {\n    width: 100%;\n    padding: 12px 22px; /* lower height as requested */\n    border: none;\n    border-radius: 0; /* square */\n    font: inherit;\n    font-weight: 400; /* not bold */\n    text-transform: none;\n    letter-spacing: normal;\n    cursor: pointer;\n    background: rgb(var(--color-button, var(--color-foreground)));\n    color: rgb(var(--color-button-text, var(--color-background)));\n    transition: background .2s ease, opacity .2s ease, transform .1s ease;\n  }\n  .restock-notify__btn:hover { opacity: .95; transform: translateY(-1px); }\n  .restock-notify__btn:active { transform: translateY(0); }\n\n  .restock-notify__privacy,\n  .restock-notify__status {\n    margin: 0;\n    text-align: center;\n    font-size: 1.5rem;\n    line-height: 1.7;\n    color: rgba(var(--color-foreground), .7);\n  }\n\n  .restock-notify__success { color: #1a7f37; text-align:center; font-size:1.5rem; }\n  .restock-notify__error   { color: #b00020; text-align:center; font-size:1.5rem; }\n\n  @media (max-width: 749px) {\n    .restock-notify__btn,\n    .restock-notify__input,\n    .restock-notify,\n    .restock-notify__label,\n    .restock-notify__privacy { font-size: 1.3rem; }\n  }\n</style>\n\n<script>\n(() => {\n  const container = document.getElementById('restock-notify');\n  if (!container) return;\n\n  const sectionId = container.getAttribute('data-section-id');\n  const dataEl = document.getElementById(`ProductData-${sectionId}`);\n  const productData = dataEl ? JSON.parse(dataEl.textContent) : null;\n  const variants = productData ? productData.variants : [];\n\n  const variantIdInput   = container.querySelector('#RestockVariantId--{{ section.id }}');\n  const variantTitleInput= container.querySelector('#RestockVariantTitle--{{ section.id }}');\n  const bodyInput        = container.querySelector('input[name=\"contact[body]\"]');\n\n  // Helper: collect current option values in order of product options\n  function getSelectedOptions() {\n    // Try common selectors used by Shopify themes\n    const wrappers = document.querySelectorAll('[name^=\"options\"], select[name^=\"options\"], input[name^=\"options\"]');\n    // Build map name -> value\n    const selectedMap = {};\n    wrappers.forEach(el => {\n      if (el.tagName === 'SELECT') selectedMap[el.name] = el.value;\n      else if ((el.type === 'radio' || el.type === 'checkbox') && el.checked) selectedMap[el.name] = el.value;\n      else if (el.type === 'text' || el.type === 'hidden') selectedMap[el.name] = el.value;\n    });\n    // Produce array in the product option order\n    const order = (productData && productData.optionsOrder) || [];\n    return order.map((optName) => {\n      // matches \"options[Size]\" keys etc.\n      const key = `options[${optName}]`;\n      return selectedMap[key] || '';\n    });\n  }\n\n  function findVariantByOptions(optionsArr) {\n    // Compare arrays strictly\n    return variants.find(v => {\n      if (!v.options || v.options.length !== optionsArr.length) return false;\n      for (let i = 0; i < v.options.length; i++) {\n        if (String(v.options[i]) !== String(optionsArr[i])) return false;\n      }\n      return true;\n    }) || null;\n  }\n\n  function updateContactBody({ variant, optionsArr }) {\n    const urlBase = window.location.href.split('?')[0];\n    const url = variant ? `${urlBase}?variant=${variant.id}` : urlBase;\n    const optionsLine = (productData && productData.optionsOrder || [])\n      .map((name, idx) => `${name}: ${optionsArr[idx] || '-'}`)\n      .join(', ');\n\n    bodyInput.value =\n`Restock request:\nProduct: {{ product.title }}\nHandle: {{ product.handle }}\nVariant: ${variant ? variant.title : '(non-existent combination)'}\nVariant ID: ${variant ? variant.id : '(none)'}\nProduct URL: ${url}\nSelected Options: ${optionsLine}\nTime: ${new Date().toLocaleString()}`;\n  }\n\n  function show() { container.style.display = 'block'; }\n  function hide() { container.style.display = 'none'; }\n\n  function refreshFromSelection(variantFromEvent) {\n    let variant = variantFromEvent || null;\n    let optionsArr = getSelectedOptions();\n\n    // If theme didn't supply a valid variant object, try to resolve by options\n    if (!variant) {\n      variant = findVariantByOptions(optionsArr);\n    }\n\n    // Update hidden fields + body for admin\n    if (variant) {\n      if (variantIdInput)    variantIdInput.value    = variant.id;\n      if (variantTitleInput) variantTitleInput.value = variant.title || '';\n      updateContactBody({ variant, optionsArr });\n\n      // Show only if this variant exists but is sold out\n      if (variant.available === false) {\n        show();\n      } else {\n        hide();\n      }\n    } else {\n      // Non-existent combination → show the block\n      if (variantIdInput)    variantIdInput.value    = '';\n      if (variantTitleInput) variantTitleInput.value = '(non-existent combination)';\n      updateContactBody({ variant: null, optionsArr });\n      show();\n    }\n  }\n\n  // Initial visibility based on current selection\n  refreshFromSelection(null);\n\n  // Listen to theme events (Dawn/OS2 often fires 'variant:change')\n  document.addEventListener('variant:change', (event) => {\n    const variant = event.detail && event.detail.variant;\n    refreshFromSelection(variant || null);\n  }, { passive: true });\n\n  // Fallback: watch option controls if the theme doesn't emit events\n  const opts = document.querySelectorAll('select[name^=\"options\"], input[name^=\"options\"]');\n  opts.forEach(el => el.addEventListener('change', () => refreshFromSelection(null), { passive: true }));\n})();\n</script>"
          }
        },
        "description": {
          "type": "description",
          "settings": {}
        },
        "share": {
          "type": "share",
          "settings": {
            "share_label": "Share"
          }
        }
      },
      "block_order": [
        "vendor",
        "title",
        "price",
        "variant_picker",
        "quantity_selector",
        "buy_buttons",
        "custom_liquid_7xmQkX",
        "description",
        "share"
      ],
      "custom_css": [],
      "settings": {
        "enable_sticky_info": false,
        "color_scheme": "scheme-1",
        "media_size": "large",
        "constrain_to_viewport": false,
        "media_fit": "contain",
        "gallery_layout": "thumbnail_slider",
        "mobile_thumbnails": "hide",
        "media_position": "left",
        "image_zoom": "lightbox",
        "hide_variants": true,
        "enable_video_looping": false,
        "padding_top": 36,
        "padding_bottom": 12
      }
    },
    "aa9cb4fbae86f1aaf81f": {
      "type": "apps",
      "blocks": {
        "9bfba772-819c-4320-9547-27ce873248d9": {
          "type": "shopify://apps/yotpo-product-reviews/blocks/reviews/eb7dfd7d-db44-4334-bc49-c893b51b36cf",
          "settings": {
            "product": "{{product}}"
          }
        }
      },
      "block_order": [
        "9bfba772-819c-4320-9547-27ce873248d9"
      ],
      "settings": {
        "include_margins": true
      }
    },
    "1759238399e29fa327": {
      "type": "apps",
      "settings": {
        "include_margins": true
      }
    },
    "related-products": {
      "type": "related-products",
      "settings": {
        "heading": "You may also like",
        "heading_size": "h2",
        "products_to_show": 4,
        "columns_desktop": 4,
        "columns_mobile": "2",
        "color_scheme": "scheme-1",
        "image_ratio": "adapt",
        "image_shape": "default",
        "show_secondary_image": true,
        "show_vendor": false,
        "show_rating": false,
        "padding_top": 36,
        "padding_bottom": 28
      }
    },
    "collage_6GheMg": {
      "type": "collage",
      "blocks": {
        "image_jAniPk": {
          "type": "image",
          "settings": {
            "image": "shopify://shop_images/2025-07-2715.28.58.jpg"
          }
        },
        "image_rN83Gp": {
          "type": "image",
          "settings": {
            "image": "shopify://shop_images/2025-07-2715.29.32.jpg"
          }
        },
        "image_Fyj4gM": {
          "type": "image",
          "settings": {
            "image": "shopify://shop_images/2025-07-2715.29.14.jpg"
          }
        }
      },
      "block_order": [
        "image_jAniPk",
        "image_rN83Gp",
        "image_Fyj4gM"
      ],
      "disabled": true,
      "name": "t:sections.collage.presets.name",
      "settings": {
        "heading": "Images From Clients",
        "heading_size": "h2",
        "desktop_layout": "left",
        "mobile_layout": "column",
        "card_styles": "product-card-wrapper",
        "color_scheme": "",
        "padding_top": 16,
        "padding_bottom": 20
      }
    },
    "1759406093c1d0ecc1": {
      "type": "_blocks",
      "blocks": {
        "ai_gen_block_3921a43_7qkrNc": {
          "type": "ai_gen_block_3921a43",
          "settings": {
            "show_title": true,
            "dashboard_title": "Customer Reviews",
            "show_write_review": true,
            "write_review_text": "Write a Review",
            "show_stats": true,
            "show_breakdown": true,
            "show_filters": true,
            "show_reviews": true,
            "reviews_to_show": 7,
            "form_title": "Write Your Review",
            "show_product_selector": true,
            "success_message": "Thank you for your review! We'll review it shortly.",
            "overall_rating": 4.5,
            "total_reviews": 297,
            "this_month_reviews": 30,
            "response_rate": 76,
            "rating_5_count": 198,
            "rating_4_count": 100,
            "rating_3_count": 25,
            "rating_2_count": 10,
            "rating_1_count": 0,
            "background_color": "#f6f1ec",
            "text_color": "#5a4a42",
            "accent_color": "#d8866a",
            "card_background_color": "#ffffff",
            "border_color": "#e0d5c7",
            "star_color": "#ffc107",
            "button_text_color": "#ffffff",
            "filter_button_bg": "#ffffff",
            "filter_button_text": "#5a4a42",
            "form_background_color": "#ffffff",
            "section_padding": 40,
            "border_radius": 8,
            "button_border_radius": 4,
            "title_font_size": 28
          },
          "blocks": {}
        }
      },
      "block_order": [
        "ai_gen_block_3921a43_7qkrNc"
      ],
      "disabled": true,
      "settings": {}
    },
    "176029844721412262": {
      "type": "apps",
      "blocks": {
        "trustoo_io_reviews_review_widget_qKakiJ": {
          "type": "shopify://apps/trustoo-io-reviews/blocks/review-widget/c8f15077-6475-4e86-ad06-b66038d5ba2c",
          "disabled": true,
          "settings": {
            "product": ""
          }
        }
      },
      "block_order": [
        "trustoo_io_reviews_review_widget_qKakiJ"
      ],
      "disabled": true,
      "settings": {
        "include_margins": true
      }
    },
    "1760966183e2583df6": {
      "type": "apps",
      "blocks": {
        "yotpo_product_reviews_reviews_znHcD4": {
          "type": "shopify://apps/yotpo-product-reviews/blocks/reviews/eb7dfd7d-db44-4334-bc49-c893b51b36cf",
          "settings": {
            "product": "{{product}}"
          }
        }
      },
      "block_order": [
        "yotpo_product_reviews_reviews_znHcD4"
      ],
      "settings": {
        "include_margins": true
      }
    },
    "17609662038c4b13d6": {
      "type": "apps",
      "blocks": {
        "yotpo_product_reviews_star_rating_GcwRHb": {
          "type": "shopify://apps/yotpo-product-reviews/blocks/star-rating/eb7dfd7d-db44-4334-bc49-c893b51b36cf",
          "settings": {
            "product": "{{product}}"
          }
        }
      },
      "block_order": [
        "yotpo_product_reviews_star_rating_GcwRHb"
      ],
      "disabled": true,
      "settings": {
        "include_margins": true
      }
    }
  },
  "order": [
    "main",
    "aa9cb4fbae86f1aaf81f",
    "1759238399e29fa327",
    "related-products",
    "collage_6GheMg",
    "1759406093c1d0ecc1",
    "176029844721412262",
    "1760966183e2583df6",
    "17609662038c4b13d6"
  ]
}
